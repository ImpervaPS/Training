{"pipeline_name": "event_based_workflow_pipeline", "formatters": "", "startingCollection": "sonargd.instance", "drillDowns": [], "shortDesc": "", "stages": [{"name": "1698289294743", "desc": "Filter", "type": "filter", "fields": [{"path": "\"Database Name\" : {$ne: null}"}, {"path": "\"Period Start\" : {$gte: {$date:\"2023-10-25T00:00:00Z\"} }"}]}, {"name": "1698289383971", "desc": "Group", "type": "group", "_id": [{"path": "Day: {$toDate:\"$Period Start\"}"}, {"path": "DB User Name: \"$DB User Name\""}, {"path": "Database Name: \"$Database Name\""}, {"path": "Server IP: \"$Server IP\""}, {"path": "Service Name: \"$Service Name\""}, {"path": "Analyzed Client IP: \"$Analyzed Client IP\""}, {"path": "Source Program: \"$Source Program\""}, {"path": "Server Host Name: \"$Server Host Name\""}, {"path": "Hour: {$hour: \"$Period Start\"}"}], "fields": [{"path": "Objects and Verbs : {$addToSet: \"$Objects and Verbs\"}"}, {"path": "Count : {$sum: 1.0}"}, {"path": "Successful Sqls : {$sum: \"$Successful Sqls\"}"}, {"path": "Failed Sqls : {$sum: \"$Failed Sqls\"}"}, {"path": "Period Start : {$min: \"$Period Start\"}"}, {"path": "Period End : {$max: \"$Period Start\"}"}, {"path": "$setLimit: 10"}]}, {"name": "1698291612302", "desc": "Join to the mapping", "type": "join", "join": [{"col": "workflow_demo_users", "as": "workflow_demo_users_", "outer": "Outer", "cascade": 0, "dbName": "", "conditions": [{"lhs": "\"_id.Server IP\"", "rhs": "\"$workflow_demo_users_.$Server IP\""}], "projections": [{"proj": "Assignment : \"$workflow_demo_users_.$Assignment\""}, {"proj": "Objects and Verbs : \"$Objects and Verbs\""}, {"proj": "Count : \"$Count\""}, {"proj": "Successful Sqls : \"$Successful Sqls\""}, {"proj": "Failed Sqls : \"$Failed Sqls\""}, {"proj": "Period Start : \"$Period Start\""}, {"proj": "Period End : \"$Period End\""}], "selectors": [], "groups": []}], "having": ""}, {"name": "1698302493305", "desc": "Report", "type": "fields", "project": [{"path": "Period Start", "omit": false}, {"path": "Period End", "omit": false}, {"path": "DB User Name : \"$_id.DB User Name\"", "omit": false}, {"path": "Database Name : \"$_id.Database Name\"", "omit": false}, {"path": "Server IP : \"$_id.Server IP\"", "omit": false}, {"path": "Service Name : \"$_id.Service Name\"", "omit": false}, {"path": "_id_Analyzed Client IP : \"$_id.Analyzed Client IP\"", "omit": false}, {"path": "_id_Source Program : \"$_id.Source Program\"", "omit": false}, {"path": "_id_Server Host Name : \"$_id.Server Host Name\"", "omit": false}, {"path": "_id_Hour : \"$_id.Hour\"", "omit": false}, {"path": "Objects and Verbs", "omit": false}, {"path": "Count", "omit": false}, {"path": "Successful Sqls", "omit": false}, {"path": "Failed Sqls", "omit": false}, {"path": "Assignment", "omit": false}, {"path": "_id", "omit": true}], "unwind": ""}, {"name": "1698413466606", "desc": "Limit", "type": "sort", "skip": null, "limit": 5}]}